// js components were originally snaffled from https://github.com/alphagov/govuk-design-system/blob/main/src/javascripts/components/
import CookieBanner from './components/cookie-banner';
import CookiesPage from './components/cookies-page';
import initAnalytics from './components/analytics';
import { initializeBackButtons } from './components/back-links';
//todo: consistency in module/proto/class style
window.FamilyHubsFrontend = window.FamilyHubsFrontend || {};
window.FamilyHubsFrontend.initAll = () => {
    // Initialise cookie banner
    const $cookieBanner = document.querySelector('[data-module="govuk-cookie-banner"]');
    new CookieBanner($cookieBanner).init();
    var gaMeasurementId = document.querySelector('meta[name="ga-measurement-id"]').getAttribute('content');
    //todo: messy, but simplest way for now
    window.GA_CONTAINER_ID =
        document.querySelector('meta[name="ga-container-id"]').getAttribute('content');
    window.GA_COOKIE_NAME =
        document.querySelector('meta[name="ga-cookie-name"]').getAttribute('content');
    window.GDS_CONSENT_COOKIE_VERSION =
        +document.querySelector('meta[name="gds-consent-cookie-version"]').getAttribute('content');
    initAnalytics(gaMeasurementId);
    //todo: move this into scripts section on cookie page
    // Initialise cookie page
    var $cookiesPage = document.querySelector('[data-module="fh-cookies-page"]');
    new CookiesPage($cookiesPage).init();
    initializeBackButtons();
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhbWlseWh1YnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0lBQW9JO0FBY3BJLE9BQU8sWUFBWSxNQUFNLDRCQUE0QixDQUFBO0FBQ3JELE9BQU8sV0FBVyxNQUFNLDJCQUEyQixDQUFBO0FBQ25ELE9BQU8sYUFBYSxNQUFNLHdCQUF3QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRWhFLCtDQUErQztBQUUvQyxNQUFNLENBQUMsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixJQUFJLEVBQUUsQ0FBQztBQUM1RCxNQUFNLENBQUMsa0JBQWtCLENBQUMsT0FBTyxHQUFHLEdBQUcsRUFBRTtJQUVyQywyQkFBMkI7SUFDM0IsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxxQ0FBcUMsQ0FBdUIsQ0FBQztJQUMxRyxJQUFJLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUV2QyxJQUFJLGVBQWUsR0FDZixRQUFRLENBQUMsYUFBYSxDQUFDLGdDQUFnQyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBa0IsQ0FBQztJQUV0Ryx1Q0FBdUM7SUFDdkMsTUFBTSxDQUFDLGVBQWU7UUFDbEIsUUFBUSxDQUFDLGFBQWEsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNuRixNQUFNLENBQUMsY0FBYztRQUNqQixRQUFRLENBQUMsYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2xGLE1BQU0sQ0FBQywwQkFBMEI7UUFDN0IsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLHlDQUF5QyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRS9GLGFBQWEsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUUvQixxREFBcUQ7SUFDckQseUJBQXlCO0lBQ3pCLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUM3RSxJQUFJLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVyQyxxQkFBcUIsRUFBRSxDQUFDO0FBQzVCLENBQUMsQ0FBQyIsImZpbGUiOiJmYW1pbHlodWJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8ganMgY29tcG9uZW50cyB3ZXJlIG9yaWdpbmFsbHkgc25hZmZsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWxwaGFnb3YvZ292dWstZGVzaWduLXN5c3RlbS9ibG9iL21haW4vc3JjL2phdmFzY3JpcHRzL2NvbXBvbmVudHMvXHJcblxyXG4vL3RvZG86IHN3YXAgdG8gYSBjb21wb25lbnRzIGZvbGRlcj9cclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAgIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgICAgIEdEU19DT05TRU5UX0NPT0tJRV9WRVJTSU9OOiBudW1iZXI7XHJcbiAgICAgICAgR0FfQ09OVEFJTkVSX0lEOiBzdHJpbmc7XHJcbiAgICAgICAgR0FfQ09PS0lFX05BTUU6IHN0cmluZztcclxuICAgICAgICBkYXRhTGF5ZXI6IGFueVtdO1xyXG4gICAgICAgIEZhbWlseUh1YnNGcm9udGVuZDogYW55O1xyXG4gICAgfVxyXG59XHJcblxyXG5pbXBvcnQgQ29va2llQmFubmVyIGZyb20gJy4vY29tcG9uZW50cy9jb29raWUtYmFubmVyJ1xyXG5pbXBvcnQgQ29va2llc1BhZ2UgZnJvbSAnLi9jb21wb25lbnRzL2Nvb2tpZXMtcGFnZSdcclxuaW1wb3J0IGluaXRBbmFseXRpY3MgZnJvbSAnLi9jb21wb25lbnRzL2FuYWx5dGljcyc7XHJcbmltcG9ydCB7IGluaXRpYWxpemVCYWNrQnV0dG9ucyB9IGZyb20gJy4vY29tcG9uZW50cy9iYWNrLWxpbmtzJztcclxuXHJcbi8vdG9kbzogY29uc2lzdGVuY3kgaW4gbW9kdWxlL3Byb3RvL2NsYXNzIHN0eWxlXHJcblxyXG53aW5kb3cuRmFtaWx5SHVic0Zyb250ZW5kID0gd2luZG93LkZhbWlseUh1YnNGcm9udGVuZCB8fCB7fTtcclxud2luZG93LkZhbWlseUh1YnNGcm9udGVuZC5pbml0QWxsID0gKCkgPT4ge1xyXG5cclxuICAgIC8vIEluaXRpYWxpc2UgY29va2llIGJhbm5lclxyXG4gICAgY29uc3QgJGNvb2tpZUJhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLWNvb2tpZS1iYW5uZXJcIl0nKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgICBuZXcgQ29va2llQmFubmVyKCRjb29raWVCYW5uZXIpLmluaXQoKTtcclxuXHJcbiAgICB2YXIgZ2FNZWFzdXJlbWVudElkID1cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJnYS1tZWFzdXJlbWVudC1pZFwiXScpLmdldEF0dHJpYnV0ZSgnY29udGVudCcpIGFzIHN0cmluZyB8IG51bGw7XHJcblxyXG4gICAgLy90b2RvOiBtZXNzeSwgYnV0IHNpbXBsZXN0IHdheSBmb3Igbm93XHJcbiAgICB3aW5kb3cuR0FfQ09OVEFJTkVSX0lEID1cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJnYS1jb250YWluZXItaWRcIl0nKS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcclxuICAgIHdpbmRvdy5HQV9DT09LSUVfTkFNRSA9XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZ2EtY29va2llLW5hbWVcIl0nKS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcclxuICAgIHdpbmRvdy5HRFNfQ09OU0VOVF9DT09LSUVfVkVSU0lPTiA9XHJcbiAgICAgICAgK2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImdkcy1jb25zZW50LWNvb2tpZS12ZXJzaW9uXCJdJykuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XHJcblxyXG4gICAgaW5pdEFuYWx5dGljcyhnYU1lYXN1cmVtZW50SWQpO1xyXG5cclxuICAgIC8vdG9kbzogbW92ZSB0aGlzIGludG8gc2NyaXB0cyBzZWN0aW9uIG9uIGNvb2tpZSBwYWdlXHJcbiAgICAvLyBJbml0aWFsaXNlIGNvb2tpZSBwYWdlXHJcbiAgICB2YXIgJGNvb2tpZXNQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kdWxlPVwiZmgtY29va2llcy1wYWdlXCJdJyk7XHJcbiAgICBuZXcgQ29va2llc1BhZ2UoJGNvb2tpZXNQYWdlKS5pbml0KCk7XHJcblxyXG4gICAgaW5pdGlhbGl6ZUJhY2tCdXR0b25zKCk7XHJcbn07XHJcbiJdfQ==
