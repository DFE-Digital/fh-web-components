// js components were originally snaffled from https://github.com/alphagov/govuk-design-system/blob/main/src/javascripts/components/
import CookieBanner from './components/cookie-banner';
import CookiesPage from './components/cookies-page';
import initAnalytics from './components/analytics';
import { initializeBackButtons } from './components/back-links';
//todo: consistency in module/proto/class style
window.FamilyHubsFrontend = window.FamilyHubsFrontend || {};
window.FamilyHubsFrontend.initAll = () => {
    // Initialise cookie banner
    const $cookieBanner = document.querySelector('[data-module="govuk-cookie-banner"]');
    new CookieBanner($cookieBanner).init();
    var gaMeasurementId = document.querySelector('meta[name="ga-measurement-id"]').getAttribute('content');
    //todo: messy, but simplest way for now
    window.GA_CONTAINER_ID =
        document.querySelector('meta[name="ga-container-id"]').getAttribute('content');
    window.GA_COOKIE_NAME =
        document.querySelector('meta[name="ga-cookie-name"]').getAttribute('content');
    window.GDS_CONSENT_COOKIE_VERSION =
        +document.querySelector('meta[name="gds-consent-cookie-version"]').getAttribute('content');
    initAnalytics(gaMeasurementId);
    //todo: move this into scripts section on cookie page
    // Initialise cookie page
    var $cookiesPage = document.querySelector('[data-module="fh-cookies-page"]');
    new CookiesPage($cookiesPage).init();
    initializeBackButtons();
};
window.GOVUKFrontend.initAll();
window.MOJFrontend.initAll();
window.FamilyHubsFrontend.initAll();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhbWlseWh1YnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0lBQW9JO0FBb0JwSSxPQUFPLFlBQVksTUFBTSw0QkFBNEIsQ0FBQTtBQUNyRCxPQUFPLFdBQVcsTUFBTSwyQkFBMkIsQ0FBQTtBQUNuRCxPQUFPLGFBQWEsTUFBTSx3QkFBd0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUVoRSwrQ0FBK0M7QUFFL0MsTUFBTSxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsSUFBSSxFQUFFLENBQUM7QUFDNUQsTUFBTSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sR0FBRyxHQUFHLEVBQUU7SUFFckMsMkJBQTJCO0lBQzNCLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMscUNBQXFDLENBQXVCLENBQUM7SUFDMUcsSUFBSSxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFdkMsSUFBSSxlQUFlLEdBQ2YsUUFBUSxDQUFDLGFBQWEsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQWtCLENBQUM7SUFFdEcsdUNBQXVDO0lBQ3ZDLE1BQU0sQ0FBQyxlQUFlO1FBQ2xCLFFBQVEsQ0FBQyxhQUFhLENBQUMsOEJBQThCLENBQUMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDbkYsTUFBTSxDQUFDLGNBQWM7UUFDakIsUUFBUSxDQUFDLGFBQWEsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNsRixNQUFNLENBQUMsMEJBQTBCO1FBQzdCLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUUvRixhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7SUFFL0IscURBQXFEO0lBQ3JELHlCQUF5QjtJQUN6QixJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFDN0UsSUFBSSxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFckMscUJBQXFCLEVBQUUsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQy9CLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDN0IsTUFBTSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxDQUFDIiwiZmlsZSI6ImZhbWlseWh1YnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBqcyBjb21wb25lbnRzIHdlcmUgb3JpZ2luYWxseSBzbmFmZmxlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHBoYWdvdi9nb3Z1ay1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9zcmMvamF2YXNjcmlwdHMvY29tcG9uZW50cy9cclxuXHJcbi8vdG9kbzogc3dhcCB0byBhIGNvbXBvbmVudHMgZm9sZGVyP1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gICAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICAgICAgR0RTX0NPTlNFTlRfQ09PS0lFX1ZFUlNJT046IG51bWJlcjtcclxuICAgICAgICBHQV9DT05UQUlORVJfSUQ6IHN0cmluZztcclxuICAgICAgICBHQV9DT09LSUVfTkFNRTogc3RyaW5nO1xyXG4gICAgICAgIGRhdGFMYXllcjogYW55W107XHJcbiAgICAgICAgRmFtaWx5SHVic0Zyb250ZW5kOiBhbnk7XHJcbiAgICAgICAgR09WVUtGcm9udGVuZDoge1xyXG4gICAgICAgICAgICBpbml0QWxsOiAoKSA9PiB2b2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNT0pGcm9udGVuZDoge1xyXG4gICAgICAgICAgICBpbml0QWxsOiAoKSA9PiB2b2lkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuaW1wb3J0IENvb2tpZUJhbm5lciBmcm9tICcuL2NvbXBvbmVudHMvY29va2llLWJhbm5lcidcclxuaW1wb3J0IENvb2tpZXNQYWdlIGZyb20gJy4vY29tcG9uZW50cy9jb29raWVzLXBhZ2UnXHJcbmltcG9ydCBpbml0QW5hbHl0aWNzIGZyb20gJy4vY29tcG9uZW50cy9hbmFseXRpY3MnO1xyXG5pbXBvcnQgeyBpbml0aWFsaXplQmFja0J1dHRvbnMgfSBmcm9tICcuL2NvbXBvbmVudHMvYmFjay1saW5rcyc7XHJcblxyXG4vL3RvZG86IGNvbnNpc3RlbmN5IGluIG1vZHVsZS9wcm90by9jbGFzcyBzdHlsZVxyXG5cclxud2luZG93LkZhbWlseUh1YnNGcm9udGVuZCA9IHdpbmRvdy5GYW1pbHlIdWJzRnJvbnRlbmQgfHwge307XHJcbndpbmRvdy5GYW1pbHlIdWJzRnJvbnRlbmQuaW5pdEFsbCA9ICgpID0+IHtcclxuXHJcbiAgICAvLyBJbml0aWFsaXNlIGNvb2tpZSBiYW5uZXJcclxuICAgIGNvbnN0ICRjb29raWVCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1jb29raWUtYmFubmVyXCJdJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gICAgbmV3IENvb2tpZUJhbm5lcigkY29va2llQmFubmVyKS5pbml0KCk7XHJcblxyXG4gICAgdmFyIGdhTWVhc3VyZW1lbnRJZCA9XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZ2EtbWVhc3VyZW1lbnQtaWRcIl0nKS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSBhcyBzdHJpbmcgfCBudWxsO1xyXG5cclxuICAgIC8vdG9kbzogbWVzc3ksIGJ1dCBzaW1wbGVzdCB3YXkgZm9yIG5vd1xyXG4gICAgd2luZG93LkdBX0NPTlRBSU5FUl9JRCA9XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZ2EtY29udGFpbmVyLWlkXCJdJykuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XHJcbiAgICB3aW5kb3cuR0FfQ09PS0lFX05BTUUgPVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImdhLWNvb2tpZS1uYW1lXCJdJykuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XHJcbiAgICB3aW5kb3cuR0RTX0NPTlNFTlRfQ09PS0lFX1ZFUlNJT04gPVxyXG4gICAgICAgICtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJnZHMtY29uc2VudC1jb29raWUtdmVyc2lvblwiXScpLmdldEF0dHJpYnV0ZSgnY29udGVudCcpO1xyXG5cclxuICAgIGluaXRBbmFseXRpY3MoZ2FNZWFzdXJlbWVudElkKTtcclxuXHJcbiAgICAvL3RvZG86IG1vdmUgdGhpcyBpbnRvIHNjcmlwdHMgc2VjdGlvbiBvbiBjb29raWUgcGFnZVxyXG4gICAgLy8gSW5pdGlhbGlzZSBjb29raWUgcGFnZVxyXG4gICAgdmFyICRjb29raWVzUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZHVsZT1cImZoLWNvb2tpZXMtcGFnZVwiXScpO1xyXG4gICAgbmV3IENvb2tpZXNQYWdlKCRjb29raWVzUGFnZSkuaW5pdCgpO1xyXG5cclxuICAgIGluaXRpYWxpemVCYWNrQnV0dG9ucygpO1xyXG59O1xyXG5cclxud2luZG93LkdPVlVLRnJvbnRlbmQuaW5pdEFsbCgpO1xyXG53aW5kb3cuTU9KRnJvbnRlbmQuaW5pdEFsbCgpO1xyXG53aW5kb3cuRmFtaWx5SHVic0Zyb250ZW5kLmluaXRBbGwoKTtcclxuIl19
